(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1582:function(e,t,r){var n=r(172),a=r(1583),o=n.bind(a);for(var c in a)a.hasOwnProperty(c)&&("function"===typeof Object.defineProperty?Object.defineProperty(o,c,{value:a[c]}):o[c]=a[c]);e.exports=o},1583:function(e,t,r){},1584:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=(r(475),r(478),r(122)),c=r(171),i=r(50),s=r(32),u=Object(s.a)({basename:"/redux-saga-mate"}),l=r(99),d=r.n(l),b=r(47),f=r(37),p=r(226),O=r(236),m=r(39),y=r(36);class j extends(function(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error)){constructor(e="MyError"){super(e),this.name="MyError",this.message=e,"function"===typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}}var h=r(23),g=r(82),w=r(102),E=r.n(w),v=r(31),A=r(63);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const N=new g.b.Entity("todos"),I=new g.b.Entity("users"),T=({to:e})=>Object(A.a)(3).then(()=>{if("success"!==e)throw new j(JSON.stringify({status:400,statusText:"Bad Request",body:"\u6536\u85cf\u5931\u8d25"}))}),_=({page:e})=>Object(A.a)(Math.ceil(2*Math.random())).then(()=>{const t=[];return N.define({author:I,commenters:[I]}),Object(A.c)(b.c)(r=>{const n=[];return Object(A.c)(2)(e=>(n.push({id:Math.ceil(20*Math.random()),name:E.a.name.firstName(),utime:(new Date).toISOString()}),e+1))(1),t.push({id:"".concat(r).concat(Math.ceil(2*Math.random())),title:"".concat(E.a.lorem.word(),"-").concat(e),author:{id:Math.ceil(20*Math.random()),name:E.a.name.firstName(),utime:(new Date).toISOString()},commenters:Object(v.uniq)(n)}),r+1})(e*b.c),{request:{meta:{page:e}},response:x({},Object(g.a)(t,[N]))}}),k=e=>{let t=S({},e);return Object(A.a)(Math.ceil(4*Math.random())).then(()=>{const e={id:t.id,star:!0,utime:(new Date).toISOString()};if(!(Number(t.id)%3))throw new j(JSON.stringify({status:400,statusText:"Bad Request",body:"\u6536\u85cf\u5931\u8d25"}));return{request:{data:x({},Object(v.omit)(["id"],x({},t))),params:{id:t.id}},response:x({},Object(g.a)(e,N))}})},C=({id:e})=>Object(A.a)(Math.ceil(3*Math.random())).then(()=>{const t={id:e,name:E.a.name.firstName(),utime:(new Date).toISOString()};return{request:{params:{id:e}},response:x({},Object(g.a)(t,I))}});var M=regeneratorRuntime.mark(U);const R=Object(y.l)([j,h.g],{autoclear:!0});function U(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)([Object(m.e)(h.e,R(T)),Object(m.e)(h.c,R(_)),Object(m.e)(h.f,R(k)),Object(m.e)(h.d,R(C,(e,t)=>{const r=t.payload.todoId;return{id:e.entities.todos[r].author}}))]);case 2:case"end":return e.stop()}}),M)}var J=Object(f.combineReducers)({todos:(e={},t)=>{switch(t.type){case h.c:if(Object(y.k)(t)&&!t.error){const r=t.payload,n=r.request.meta.page,a=r.response.result,o=[n,"buffer"],c=[n,"ids"];return n>3&&(Object(v.get)(c,e)||[]).length>0?Object(v.set)(o,a,e):Object(v.set)(c,a,e)}return e;case h.a:{const r=t.payload.page,n=[r,"buffer"],a=[r,"ids"];return Object(v.compose)(Object(v.set)(n,void 0),Object(v.set)(a,Object(v.get)(n,e)))(e)}default:return e}}});const L={todos:{[h.c]:[y.b,(e,t,r)=>"commenters"===e?Object(v.concat)(t,Object(v.difference)(r,t)):r],[h.b]:y.a,[h.f]:y.b},users:{[h.c]:y.b,[h.d]:y.b}};var q=Object(f.combineReducers)({actions:Object(y.c)([h.g,/^ASYNC_/]),session:(e={})=>e,entities:Object(f.combineReducers)(Object(y.i)(Object(y.g)({UPDATE:[["response","entities"]],DELETE:[["request","params","id"]]},L),{})),ui:J}),Y=((e,t,r="REDUX-STORE")=>{let n;try{window.localStorage.setItem(r,JSON.stringify({})),n=e||JSON.parse(window.localStorage.getItem(r))||void 0}catch(i){console.warn("The JSON data in Local Storage seems broken!"),n=void 0}const a=Object(p.composeWithDevTools)({name:t}),o=Object(O.a)(),c=Object(f.createStore)(q,n,a(Object(f.applyMiddleware)(o)));return o.run(U),c.subscribe(()=>window.localStorage.setItem(r,JSON.stringify(c.getState()))),c})(void 0,"REDUX-SAGE-MATE-DEMO",b.b),B=r(173),X=r(169),G=r(234),F=r.n(G);const H=Object(X.a)(()=>Promise.all([r.e(8),r.e(3)]).then(r.bind(null,1606)),{fallback:null}),z=Object(X.a)(()=>r.e(2).then(r.bind(null,1607))),$=[{to:"/simple-buttons",text:"Simple Buttons"},{to:"/todo-list",text:"Todo List"}],K=({to:e,text:t})=>a.a.createElement("li",{className:"nav-item"},a.a.createElement(B.a,{className:"nav-link",activeClassName:"active h5",to:e},t));var W=()=>a.a.createElement(a.a.Fragment,null,a.a.createElement("header",{className:"col-12 text-center mt-3 mb-5"},a.a.createElement("a",{href:"https://github.com/hanzhixing/redux-saga-mate.git",target:"_blank",rel:"noopener noreferrer"},a.a.createElement(F.a,null))),a.a.createElement("div",{className:"container-fluid"},a.a.createElement("div",{className:"row flex-xl-nowrap"},a.a.createElement("nav",{className:"col-2 border-left"},a.a.createElement("ul",{className:"nav flex-column"},$.map(({to:e,text:t},r)=>a.a.createElement(K,{key:r,to:e,text:t})))),a.a.createElement("main",{className:"col-10 border-left border-right"},a.a.createElement(i.b,{exact:!0,path:"/",component:z}),a.a.createElement(i.b,{path:"/simple-buttons",component:z}),a.a.createElement(i.d,null,a.a.createElement(i.b,{exact:!0,path:"/todo-list"},()=>a.a.createElement(i.a,{to:"/todo-list/1"})),a.a.createElement(i.b,{path:"/todo-list/:page"},({match:{params:{page:e}}})=>a.a.createElement(H,{page:e})))))));r(1582);(()=>{const e=d.a.get(b.a);e&&(u.replace(e),d.a.remove(b.a))})();const Z=document.createElement("div");Z.setAttribute("id","react-root"),document.body.appendChild(Z),Object(o.render)(a.a.createElement(c.a,{store:Y},a.a.createElement(i.c,{history:u},a.a.createElement(W,null))),Z)},23:function(e,t,r){"use strict";r.d(t,"g",(function(){return n})),r.d(t,"e",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"f",(function(){return i})),r.d(t,"a",(function(){return s})),r.d(t,"d",(function(){return u}));const n="CLEANUP",a="ASYNC_NOOP",o="ASYNC_GET_MANY_TODO",c="ASYNC_DELETE_ONE_TODO",i="ASYNC_PATCH_ONE_TODO",s="ACCEPT_UPDATE_TODO_LIST",u="ASYNC_GET_ONE_USER_BY_TODO_ID"},234:function(e,t,r){var n=r(0);function a(e){return n.createElement("svg",e,n.createElement("path",{fillRule:"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"}))}a.defaultProps={height:"32",viewBox:"0 0 16 16",version:"1.1",width:"32","aria-hidden":"true"},e.exports=a,a.default=a},36:function(e,t,r){"use strict";r.d(t,"d",(function(){return x})),r.d(t,"f",(function(){return D})),r.d(t,"j",(function(){return w})),r.d(t,"k",(function(){return v})),r.d(t,"c",(function(){return ae})),r.d(t,"g",(function(){return oe})),r.d(t,"i",(function(){return ce})),r.d(t,"m",(function(){return he})),r.d(t,"e",(function(){return ge})),r.d(t,"l",(function(){return ve})),r.d(t,"h",(function(){return Se})),r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}));const n="UPDATE",a="DELETE";var o=r(56),c=r.n(o),i=r(101),s=r(227),u=r.n(s),l=r(1589),d=r(1590);const b="redux-saga-mate";function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const m=Object(l.a)(document.domain,"00000000-0000-0000-0000-000000000000"),y=["type","payload","error","meta"],j=["sign","id","pid","phase","progress","ctime","utime","uniq"],h=e=>"Invalid ReduxSagaMateAction. ".concat(JSON.stringify(e)),g=e=>{if(!Object(i.a)(e))return!1;if("string"!==typeof e.type)return!1;if(!Object.keys(e).every(e=>y.includes(e)))return!1;if(e.meta){if(!Object(i.a)(e.meta))return!1;if(!Object.keys(e.meta).every(e=>j.includes(e)))return!1}return!0},w=c()((e,t=!1)=>{if(!g(e))throw new Error(h(e));const r=e.type,n=e.payload,a=e.meta;if(a&&a.id)return a.id;if(t)return Object(d.a)();const o=[r,n];return Object(l.a)(u()(o),m)}),E=c()((e,t)=>{if(!g(e))throw new Error(h(e));if(!g(t))throw new Error(h(t));return p({},t,{meta:{id:w(t),pid:w(e),ctime:(new Date).toISOString()}})}),v=e=>"finish"===e.meta.phase,A=c()((e,t)=>{if(!g(t))throw new Error(h(t));return p({},t,{payload:e,meta:p({},t.meta,{phase:"finish",progress:100,utime:(new Date).toISOString()})})}),S=c()((e,t)=>{if(!g(t))throw new Error(h(t));return p({},t,{payload:e,error:!0,meta:p({},t.meta,{phase:"finish",progress:100,utime:(new Date).toISOString()})})}),P=(c()((e,t)=>{if(!g(e))throw new Error(h(e));if(!g(t))throw new Error(h(t));return e.meta.id===t.meta.pid}),c()((e,t)=>{if(!g(e))throw new Error(h(e));if(!g(t))throw new Error(h(t));const r=E(e)(t);return p({},r,{meta:p({},r.meta,{phase:"started",progress:0})})}),(e,t=!1)=>{if(!g(e))throw new Error(h(e));return p({},e,{meta:{sign:b,id:w(e,t),pid:void 0,phase:"started",progress:0,ctime:(new Date).toISOString(),uniq:t}})}),x=c()((e,t)=>P({type:e,payload:t})),D=c()((e,t)=>P({type:e,payload:t},!0));var N=r(228),I=r.n(N),T=r(128),_=r.n(T),k=r(81),C=r.n(k),M=r(161),R=r.n(M),U=r(164),J=r.n(U),L=r(62),q=r.n(L),Y=r(72),B=r.n(Y),X=r(229),G=r.n(X),F=r(80),H=r.n(F),z=r(230),$=r.n(z),K=r(160),W=r.n(K),Z=r(48),Q=r.n(Z),V=r(55),ee=r.n(V);function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(s){a=!0,o=s}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const ne=/^(REST|API|LOAD|ASYNC|FETCH|AJAX)_[0-9A-Z_]+$/,ae=([e,t]=["CLEANUP_TRACKABLE_ACTION",ne])=>(r={},n)=>n.type===e?Array.isArray(n.payload)?C()(n.payload,r):C()([n.payload],r):Object(i.a)(n.meta)&&n.meta.sign===b&&n.meta.id&&t.test(n.type)?Q()(ee()(n.meta.id),J()(n,{payload:n.error?JSON.parse(I.a.stringify(n.payload)):n.payload}),r):r,oe=(e,t)=>_()(B()((r,o)=>Q()(ee()(o),((e,t,r)=>(o={},c)=>{if(!r[c.type]||!v(c)||c.error)return o;const i=te(Array.isArray(r[c.type])?r[c.type]:[r[c.type]],2),s=i[0],u=i[1];if(!e[s])return o;const l=e[s].find(e=>H()(e,c.payload));if(!l)return o;if(s===n){return(u?R()(u):J.a)(o,H()([...l,t],c.payload))}if(s===a){const e=H()(l,c.payload);return C()(Array.isArray(e)?e:[e],o)}return o})(e,o,t[o]),r),{}),q.a)(t),ce=(...e)=>{const t=_()(G.a,$.a,W()(q.a))(e),r=B()((t,r)=>Q()(ee()(r),B()((e,t)=>t[r]?e.concat([t[r]]):e,[],e),t),{},t);return _()(B()((e,t)=>Q()(ee()(t),B()((e,t)=>(r,n)=>t(e(r,n),n),e=>e,r[t]),e),{}),q.a)(r)};var ie=r(0),se=r(73),ue=r(162),le=r.n(ue),de=r(166),be=r.n(de),fe=r(232),pe=r.n(fe);function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ye(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const je=Object(se.g)(()=>({actionIds:{}}),{setActionId:e=>(t,r)=>{const n=Array.isArray(t)?be()(["actionIds",...t]):be()(["actionIds",t]);return Q()(n,r,e)},unsetActionId:e=>t=>{const r=Array.isArray(t)?["actionIds",...t]:["actionIds",t];return pe()(r,e)}}),he=(e=le.a)=>Object(se.b)(je,Object(se.e)(e)),ge=()=>{const e=Object(ie.createContext)(void 0),t=e.Provider,r=e.Consumer;return{withAsyncActionContextProvider:e=>{const r=r=>{let n=r.actionIds,a=r.setActionId,o=r.unsetActionId,c=ye(r,["actionIds","setActionId","unsetActionId"]);return Object(ie.createElement)(t,{value:{actionIds:n,setActionId:a,unsetActionId:o}},Object(ie.createElement)(e,c))};return r.displayName=Object(se.h)(e,"withAsyncActionContextProvider"),je(r)},withAsyncActionContextConsumer:e=>{const t=t=>Object(ie.createElement)(r,null,r=>Object(ie.createElement)(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{},r)));return t.displayName=Object(se.h)(e,"withAsyncActionContextConsumer"),t}}};var we=r(1588),Ee=r(39);const ve=([e,t],{autoclear:r}={})=>(n,a,{autoclear:o}={})=>regeneratorRuntime.mark((function c(i){var s,u;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,!v(i)){c.next=3;break}return c.abrupt("return");case 3:return c.next=5,Object(Ee.d)();case 5:return s=c.sent,c.next=8,Object(Ee.b)(n,a?a(s,i):i.payload);case 8:return u=c.sent,c.next=11,Object(Ee.c)(A(u)(i));case 11:if(!0!==o){c.next=15;break}return c.next=14,Object(Ee.c)(Object(we.a)(t)(w(i)));case 14:return c.abrupt("return");case 15:if(!1!==o){c.next=17;break}return c.abrupt("return");case 17:if(!0!==r){c.next=21;break}return c.next=20,Object(Ee.c)(Object(we.a)(t)(w(i)));case 20:return c.abrupt("return");case 21:c.next=30;break;case 23:if(c.prev=23,c.t0=c.catch(0),!(c.t0 instanceof e)){c.next=29;break}return c.next=28,Object(Ee.c)(S(c.t0)(i));case 28:return c.abrupt("return");case 29:throw c.t0;case 30:case"end":return c.stop()}}),c,null,[[0,23]])}));var Ae=r(170);const Se=(e,t)=>Object(Ae.a)([e,t],(e,t)=>function t(r){return q()(r).reduce((n,a)=>{if("string"===typeof r[a]){if(!e[r[a]])return n;const t=e[r[a]];return Q()(ee()(a),C()(["type","meta"],Q()(ee()("isLoading"),!v(t),t)),n)}return Q()(ee()(a),t(r[a]),n)},{})}(t))},47:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));const n=5,a="REDUX-SAGA-MATE-DEMO-REDUX-STORE",o="REDUX-SAGA-MATE-DEMO-PATH-BEFORE-404"},472:function(e,t,r){r(473),r(174),r(216),e.exports=r(1584)},63:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return i}));const n=window.DOMException,a=(e,t={})=>t.aborted?Promise.reject(new n("Aborted","AbortError")):new Promise((r,a)=>{const o=window.setTimeout(r,1e3*e);t.onabort=()=>{window.clearTimeout(o),a(new n("Aborted","AbortError"))}}),o=(...e)=>({type:o,args:e}),c=e=>t=>r=>(e=>{let t=e();for(;t.type===o;)t=e(...t.args);return t})((n=e,a=r)=>0===n?a:o(n-1,t(a))),i=e=>"test-id-".concat(e)}},[[472,6,0,7]]]);
//# sourceMappingURL=index.1949698c1ae2d27163e4.chunk.js.map