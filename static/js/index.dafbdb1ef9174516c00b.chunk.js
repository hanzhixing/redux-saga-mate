(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1580:function(e,t,r){var n=r(171),a=r(1581),o=n.bind(a);for(var c in a)a.hasOwnProperty(c)&&("function"===typeof Object.defineProperty?Object.defineProperty(o,c,{value:a[c]}):o[c]=a[c]);e.exports=o},1581:function(e,t,r){},1582:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=(r(472),r(475),r(121)),c=r(170),i=r(50),s=r(32),u=Object(s.a)({basename:"/redux-saga-mate"}),l=r(98),d=r.n(l),b=r(47),p=r(37),f=r(224),O=r(233),m=r(39),y=r(36);class j extends(function(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error)){constructor(e="MyError"){super(e),this.name="MyError",this.message=e,"function"===typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}}var h=r(23),g=r(81),E=r(101),w=r.n(E),v=r(31),A=r(62);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const N=new g.b.Entity("todos"),I=new g.b.Entity("users"),T=({to:e})=>Object(A.a)(3).then(()=>{if("success"!==e)throw new j(JSON.stringify({status:400,statusText:"Bad Request",body:"\u6536\u85cf\u5931\u8d25"}))}),_=({page:e})=>Object(A.a)(Math.ceil(2*Math.random())).then(()=>{const t=[];return N.define({author:I,commenters:[I]}),Object(A.c)(b.c)(r=>{const n=[];return Object(A.c)(2)(e=>(n.push({id:Math.ceil(20*Math.random()),name:w.a.name.firstName(),utime:(new Date).toISOString()}),e+1))(1),t.push({id:"".concat(r).concat(Math.ceil(2*Math.random())),title:"".concat(w.a.lorem.word(),"-").concat(e),author:{id:Math.ceil(20*Math.random()),name:w.a.name.firstName(),utime:(new Date).toISOString()},commenters:Object(v.uniq)(n)}),r+1})(e*b.c),{request:{meta:{page:e}},response:x({},Object(g.a)(t,[N]))}}),k=e=>{let t=S({},e);return Object(A.a)(Math.ceil(4*Math.random())).then(()=>{const e={id:t.id,star:!0,utime:(new Date).toISOString()};if(!(Number(t.id)%3))throw new j(JSON.stringify({status:400,statusText:"Bad Request",body:"\u6536\u85cf\u5931\u8d25"}));return{request:{data:x({},Object(v.omit)(["id"],x({},t))),params:{id:t.id}},response:x({},Object(g.a)(e,N))}})},C=({id:e})=>Object(A.a)(Math.ceil(3*Math.random())).then(()=>{const t={id:e,name:w.a.name.firstName(),utime:(new Date).toISOString()};return{request:{params:{id:e}},response:x({},Object(g.a)(t,I))}});var M=regeneratorRuntime.mark(U);const R=Object(y.l)([j,h.g],{autoclear:!0});function U(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)([Object(m.e)(h.e,R(T)),Object(m.e)(h.c,R(_)),Object(m.e)(h.f,R(k)),Object(m.e)(h.d,R(C,(e,t)=>{const r=t.payload.todoId;return{id:e.entities.todos[r].author}}))]);case 2:case"end":return e.stop()}}),M)}var J=Object(p.combineReducers)({todos:(e={},t)=>{switch(t.type){case h.c:if(Object(y.k)(t)&&!t.error){const r=t.payload,n=r.request.meta.page,a=r.response.result,o=[n,"buffer"],c=[n,"ids"];return n>3&&(Object(v.get)(c,e)||[]).length>0?Object(v.set)(o,a,e):Object(v.set)(c,a,e)}return e;case h.a:{const r=t.payload.page,n=[r,"buffer"],a=[r,"ids"];return Object(v.compose)(Object(v.set)(n,void 0),Object(v.set)(a,Object(v.get)(n,e)))(e)}default:return e}}});const L={todos:{[h.c]:[y.b,(e,t,r)=>"commenters"===e?Object(v.concat)(t,Object(v.difference)(r,t)):r],[h.b]:y.a,[h.f]:y.b},users:{[h.c]:y.b,[h.d]:y.b}};var q=Object(p.combineReducers)({actions:Object(y.c)([h.g,/^ASYNC_/]),session:(e={})=>e,entities:Object(p.combineReducers)(Object(y.i)(Object(y.g)({UPDATE:[["response","entities"]],DELETE:[["request","params","id"]]},L),{})),ui:J}),Y=((e,t,r="REDUX-STORE")=>{let n;try{window.localStorage.setItem(r,JSON.stringify({})),n=e||JSON.parse(window.localStorage.getItem(r))||void 0}catch(i){console.warn("The JSON data in Local Storage seems broken!"),n=void 0}const a=Object(f.composeWithDevTools)({name:t}),o=Object(O.a)(),c=Object(p.createStore)(q,n,a(Object(p.applyMiddleware)(o)));return o.run(U),c.subscribe(()=>window.localStorage.setItem(r,JSON.stringify(c.getState()))),c})(void 0,"REDUX-SAGE-MATE-DEMO",b.b),B=r(172),X=r(168),G=r(231),F=r.n(G);const H=Object(X.a)(()=>Promise.all([r.e(8),r.e(3)]).then(r.bind(null,1605)),{fallback:null}),z=Object(X.a)(()=>r.e(2).then(r.bind(null,1606))),$=[{to:"/simple-buttons",text:"Simple Buttons"},{to:"/todo-list",text:"Todo List"}],K=({to:e,text:t})=>a.a.createElement("li",{className:"nav-item"},a.a.createElement(B.a,{className:"nav-link",activeClassName:"active h5",to:e},t));var W=()=>a.a.createElement(a.a.Fragment,null,a.a.createElement("header",{className:"col-12 text-center mt-3 mb-5"},a.a.createElement("a",{href:"https://github.com/hanzhixing/redux-saga-mate.git",target:"_blank",rel:"noopener noreferrer"},a.a.createElement(F.a,null))),a.a.createElement("div",{className:"container-fluid"},a.a.createElement("div",{className:"row flex-xl-nowrap"},a.a.createElement("nav",{className:"col-2 border-left"},a.a.createElement("ul",{className:"nav flex-column"},$.map(({to:e,text:t},r)=>a.a.createElement(K,{key:r,to:e,text:t})))),a.a.createElement("main",{className:"col-10 border-left border-right"},a.a.createElement(i.b,{exact:!0,path:"/",component:z}),a.a.createElement(i.b,{path:"/simple-buttons",component:z}),a.a.createElement(i.d,null,a.a.createElement(i.b,{exact:!0,path:"/todo-list"},()=>a.a.createElement(i.a,{to:"/todo-list/1"})),a.a.createElement(i.b,{path:"/todo-list/:page"},({match:{params:{page:e}}})=>a.a.createElement(H,{page:e})))))));r(1580);(()=>{const e=d.a.get(b.a);e&&(u.replace(e),d.a.remove(b.a))})();const Z=document.createElement("div");Z.setAttribute("id","react-root"),document.body.appendChild(Z),Object(o.render)(a.a.createElement(c.a,{store:Y},a.a.createElement(i.c,{history:u},a.a.createElement(W,null))),Z)},23:function(e,t,r){"use strict";r.d(t,"g",(function(){return n})),r.d(t,"e",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"f",(function(){return i})),r.d(t,"a",(function(){return s})),r.d(t,"d",(function(){return u}));const n="CLEANUP",a="ASYNC_NOOP",o="ASYNC_GET_MANY_TODO",c="ASYNC_DELETE_ONE_TODO",i="ASYNC_PATCH_ONE_TODO",s="ACCEPT_UPDATE_TODO_LIST",u="ASYNC_GET_ONE_USER_BY_TODO_ID"},231:function(e,t,r){var n=r(0);function a(e){return n.createElement("svg",e,n.createElement("path",{fillRule:"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"}))}a.defaultProps={height:"32",viewBox:"0 0 16 16",version:"1.1",width:"32","aria-hidden":"true"},e.exports=a,a.default=a},36:function(e,t,r){"use strict";r.d(t,"d",(function(){return A})),r.d(t,"f",(function(){return S})),r.d(t,"j",(function(){return h})),r.d(t,"k",(function(){return g})),r.d(t,"c",(function(){return te})),r.d(t,"g",(function(){return re})),r.d(t,"i",(function(){return ne})),r.d(t,"m",(function(){return me})),r.d(t,"e",(function(){return ye})),r.d(t,"l",(function(){return he})),r.d(t,"h",(function(){return Ee})),r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}));const n="UPDATE",a="DELETE";var o=r(100),c=r(225),i=r.n(c),s=r(1585),u=r(1586);const l="redux-saga-mate";function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const f=Object(s.a)(document.domain,"00000000-0000-0000-0000-000000000000"),O=["type","payload","error","meta"],m=["sign","id","pid","phase","progress","ctime","utime","uniq"],y=e=>"Invalid ReduxSagaMateAction. ".concat(JSON.stringify(e)),j=e=>{if(!Object(o.a)(e))return!1;if("string"!==typeof e.type)return!1;if(!Object.keys(e).every(e=>O.includes(e)))return!1;if(e.meta){if(!Object(o.a)(e.meta))return!1;if(!Object.keys(e.meta).every(e=>m.includes(e)))return!1}return!0},h=(e,t=!1)=>{if(!j(e))throw new Error(y(e));const r=e.type,n=e.payload,a=e.meta;if(a&&a.id)return a.id;if(t)return Object(u.a)();const o=[r,n];return Object(s.a)(i()(o),f)},g=e=>"finish"===e.meta.phase,E=e=>t=>{if(!j(t))throw new Error(y(t));return b({},t,{payload:e,meta:b({},t.meta,{phase:"finish",progress:100,utime:(new Date).toISOString()})})},w=e=>t=>{if(!j(t))throw new Error(y(t));return b({},t,{payload:e,error:!0,meta:b({},t.meta,{phase:"finish",progress:100,utime:(new Date).toISOString()})})},v=(e,t=!1)=>{if(!j(e))throw new Error(y(e));return b({},e,{meta:{sign:l,id:h(e,t),pid:void 0,phase:"started",progress:0,ctime:(new Date).toISOString(),uniq:t}})},A=e=>t=>v({type:e,payload:t}),S=e=>t=>v({type:e,payload:t},!0);var P=r(226),x=r.n(P),D=r(127),N=r.n(D),I=r(80),T=r.n(I),_=r(160),k=r.n(_),C=r(163),M=r.n(C),R=r(61),U=r.n(R),J=r(72),L=r.n(J),q=r(227),Y=r.n(q),B=r(70),X=r.n(B),G=r(228),F=r.n(G),H=r(159),z=r.n(H),$=r(48),K=r.n($),W=r(55),Z=r.n(W);function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(s){a=!0,o=s}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const ee=/^(REST|API|LOAD|ASYNC|FETCH|AJAX)_[0-9A-Z_]+$/,te=([e,t]=["CLEANUP_TRACKABLE_ACTION",ee])=>(r={},n)=>n.type===e?Array.isArray(n.payload)?T()(n.payload,r):T()([n.payload],r):Object(o.a)(n.meta)&&n.meta.sign===l&&n.meta.id&&t.test(n.type)?K()(Z()(n.meta.id),M()(n,{payload:n.error?JSON.parse(x.a.stringify(n.payload)):n.payload}),r):r,re=(e,t)=>N()(L()((r,o)=>K()(Z()(o),((e,t,r)=>(o={},c)=>{if(!r[c.type]||!g(c)||c.error)return o;const i=Q(Array.isArray(r[c.type])?r[c.type]:[r[c.type]],2),s=i[0],u=i[1];if(!e[s])return o;const l=e[s].find(e=>X()(e,c.payload));if(!l)return o;if(s===n){const e=u?k()(u):M.a;return X()([...l,t],c.payload)?e(o,X()([...l,t],c.payload)):o}if(s===a){const e=X()(l,c.payload);return T()(Array.isArray(e)?e:[e],o)}return o})(e,o,t[o]),r),{}),U.a)(t),ne=(...e)=>{const t=N()(Y.a,F.a,z()(U.a))(e),r=L()((t,r)=>K()(Z()(r),L()((e,t)=>t[r]?e.concat([t[r]]):e,[],e),t),{},t);return N()(L()((e,t)=>K()(Z()(t),L()((e,t)=>(r,n)=>t(e(r,n),n),e=>e,r[t]),e),{}),U.a)(r)};var ae=r(0),oe=r(73),ce=r(161),ie=r.n(ce),se=r(165),ue=r.n(se),le=r(230),de=r.n(le);function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fe(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const Oe=Object(oe.g)(()=>({actionIds:{}}),{setActionId:e=>(t,r)=>{const n=Array.isArray(t)?ue()(["actionIds",...t]):ue()(["actionIds",t]);return K()(n,r,e)},unsetActionId:e=>t=>{const r=Array.isArray(t)?["actionIds",...t]:["actionIds",t];return de()(r,e)}}),me=(e=ie.a)=>Object(oe.b)(Oe,Object(oe.e)(e)),ye=()=>{const e=Object(ae.createContext)(void 0),t=e.Provider,r=e.Consumer;return{withAsyncActionContextProvider:e=>{const r=r=>{let n=r.actionIds,a=r.setActionId,o=r.unsetActionId,c=fe(r,["actionIds","setActionId","unsetActionId"]);return Object(ae.createElement)(t,{value:{actionIds:n,setActionId:a,unsetActionId:o}},Object(ae.createElement)(e,c))};return r.displayName=Object(oe.h)(e,"withAsyncActionContextProvider"),Oe(r)},withAsyncActionContextConsumer:e=>{const t=t=>Object(ae.createElement)(r,null,r=>Object(ae.createElement)(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{},r)));return t.displayName=Object(oe.h)(e,"withAsyncActionContextConsumer"),t}}};var je=r(39);const he=([e,t],{autoclear:r}={})=>(n,a,{autoclear:o}={})=>regeneratorRuntime.mark((function c(i){var s,u;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,!g(i)){c.next=3;break}return c.abrupt("return");case 3:return c.next=5,Object(je.d)();case 5:return s=c.sent,c.next=8,Object(je.b)(n,a?a(s,i):i.payload);case 8:return u=c.sent,c.next=11,Object(je.c)(E(u)(i));case 11:if(!0!==o){c.next=15;break}return c.next=14,Object(je.c)({type:t,payload:h(i)});case 14:return c.abrupt("return");case 15:if(!1!==o){c.next=17;break}return c.abrupt("return");case 17:if(!0!==r){c.next=21;break}return c.next=20,Object(je.c)({type:t,payload:h(i)});case 20:return c.abrupt("return");case 21:c.next=30;break;case 23:if(c.prev=23,c.t0=c.catch(0),!(c.t0 instanceof e)){c.next=29;break}return c.next=28,Object(je.c)(w(c.t0)(i));case 28:return c.abrupt("return");case 29:throw c.t0;case 30:case"end":return c.stop()}}),c,null,[[0,23]])}));var ge=r(169);const Ee=(e,t)=>Object(ge.a)([e,t],(e,t)=>function t(r){return U()(r).reduce((n,a)=>{if("string"===typeof r[a]){if(!e[r[a]])return n;const t=e[r[a]];return K()(Z()(a),T()(["type","meta"],K()(Z()("isLoading"),!g(t),t)),n)}return K()(Z()(a),t(r[a]),n)},{})}(t))},469:function(e,t,r){r(470),r(173),r(215),e.exports=r(1582)},47:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));const n=5,a="REDUX-SAGA-MATE-DEMO-REDUX-STORE",o="REDUX-SAGA-MATE-DEMO-PATH-BEFORE-404"},62:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return i}));const n=window.DOMException,a=(e,t={})=>t.aborted?Promise.reject(new n("Aborted","AbortError")):new Promise((r,a)=>{const o=window.setTimeout(r,1e3*e);t.onabort=()=>{window.clearTimeout(o),a(new n("Aborted","AbortError"))}}),o=(...e)=>({type:o,args:e}),c=e=>t=>r=>(e=>{let t=e();for(;t.type===o;)t=e(...t.args);return t})((n=e,a=r)=>0===n?a:o(n-1,t(a))),i=e=>"test-id-".concat(e)}},[[469,6,0,7]]]);
//# sourceMappingURL=index.dafbdb1ef9174516c00b.chunk.js.map