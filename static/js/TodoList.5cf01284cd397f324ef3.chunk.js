(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1578:function(e,t,n){var r=n(164),a=n(1583),o=r.bind(a);for(var c in a)a.hasOwnProperty(c)&&("function"===typeof Object.defineProperty?Object.defineProperty(o,c,{value:a[c]}):o[c]=a[c]);e.exports=o},1583:function(e,t,n){e.exports={"link-button":"demo-src-components-TodoList-index.m__link-button--1VkjS"}},1593:function(e,t,n){"use strict";n.r(t);var r=n(163),a=n(51),o=n(72),c=n(162),i=n(36),l=n(64),s=n(0),u=n.n(s),b=n(165),m=n(1578),d=n.n(m),f=function(e){var t=e.page,n=e.active;return u.a.createElement("li",{className:d()("page-item",{active:n}),"aria-current":n?"page":void 0},u.a.createElement(b.a,{to:"/todo-list/".concat(t),className:d()("page-link",Object(l.b)("page-".concat(t)))},t,n&&u.a.createElement("span",{className:"sr-only"},"(current)")))},p=function(e){var t=e.page;return u.a.createElement("nav",{"aria-label":"Page navigation example"},u.a.createElement("ul",{className:"pagination justify-content-center"},[1,2,3,4,5].map(function(e){return u.a.createElement(f,{key:e,page:e,active:e===t})})))},g=n(1584),O=n.n(g);O.a.setAppElement(document.body);var h=function(e){var t=e.isLoading,n=e.name,r=e.onCloseAuthorModal;return u.a.createElement(O.a,{isOpen:!0,contentLabel:"Author Infomation",style:{content:{width:"400px",height:"100px",fontSize:"24px",textAlign:"center",margin:"30px auto",paddingTop:"30px"}}},t&&u.a.createElement("div",{className:"spinner-border spinner-border-sm",role:"status"},u.a.createElement("span",{className:"sr-only"},"Loading...")),n," ",u.a.createElement("button",{type:"button",onClick:r,className:d()("btn btn-primary btn-sm",Object(l.b)("global-author-modal"))},"Close"))},j=n(1577),y=n(29),E=function(e){var t=e.id,n=e.title,r=e.author,a=e.commenters,o=e.star,c=e.onStar,i=e.onStarTransient,s=e.onClearStarLoading,b=e.onViewAuthor,m=e.isChecked,f=e.onToggleCheck;return u.a.createElement("tr",null,u.a.createElement("th",{scope:"row"},u.a.createElement("input",{type:"checkbox",checked:m,onChange:function(){f(t)}})," ",t),u.a.createElement("td",null,n),u.a.createElement("td",{className:d()("operation")},r," ",u.a.createElement("button",{type:"button",onClick:function(){b(t)},className:d()("oi oi-eye",Object(l.b)("view-author"))})," ",a.length),u.a.createElement("td",{className:d()("operation")}," ",i&&i.isLoading&&u.a.createElement("div",{className:"spinner-border spinner-border-sm",role:"status"},u.a.createElement("span",{className:"sr-only"},"Loading...")),(!i||!i.isLoading)&&u.a.createElement("button",{type:"button",onClick:function(){c(t)},className:d()("oi oi-star","no-border",{star:o},Object(l.b)("star-todo"))})," ",i&&!i.isLoading&&i.error&&u.a.createElement("button",{type:"button",className:d()("text","text-danger","no-border",Object(l.b)("confirm-star-error")),onClick:function(){s(t)}},"Failed! Click to Dimiss!")))};function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=Object(i.e)(),k=v.withAsyncActionContextProvider,w=v.withAsyncActionContextConsumer,S=function(e){return{actionIds:e.actionIds,onTrackAsyncAction:e.setActionId,onUntrackAsyncAction:e.unsetActionId}};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e,t){return Object(y.get)(["ui","todos",t.page,"ids"],e)},x=function(e,t){return e.entities.users},L=Object(c.a)(function(e,t){return e.entities.todos},P,x,function(e,t,n){if(t)return t.map(function(t){return N({},e[String(t)],{author:n[e[String(t)].author].name})})}),I=Object(c.a)(function(e,t){return Object(y.get)(["ui","todos",t.page,"buffer"],e)},P,function(e,t){return e&&t?e.filter(function(e){return!t.includes(e)}):[]}),V=Object(i.h)(Object(y.get)("actions"),function(e,t){return t.actionIds}),M=Object(c.a)(function(e,t){return Object(y.get)([t.modalTodoAuthor],e.entities.todos)},x,V,function(e,t,n){var r=(n.onViewAuthor?n.onViewAuthor:{isLoading:void 0}).isLoading;return r?{isLoading:r}:N({isLoading:r},e?Object(y.get)([e.author],t):{})}),D=Object(c.a)(V,function(e,t){return t.page},function(e,t){if(e.onPage&&e.onPage[t])return e.onPage[t]}),U=Object(c.a)(V,function(e){if(e.onStar&&e.onStar)return e.onStar}),B=n(21),F=Object(r.b)(function(){var e=Object(c.a)(L,I,D,U,function(e,t,n,r){return{items:e,buffer:t,onPageTransient:n,onStarTransient:r}});return function(t,n){return e(t,n)}},function(e,t){return{onStar:function(n){var r=Object(i.j)(e(Object(i.d)(B.f)({id:n})));t.onTrackAsyncAction(["onStar",n],r)},onViewAuthor:function(n){var r=Object(i.j)(e(Object(i.d)(B.d)({todoId:n})));t.onTrackAsyncAction("onViewAuthor",r),t.onViewAuthor(n)},onClearStarLoading:function(n){t.onUntrackAsyncAction(["onStar",n]),e(Object(j.a)(B.g)(t.actionIds.onStar[n]))}}}),J=Object(o.a)(function(e){var t=e.items,n=e.onPageTransient;return!t&&!n},Object(o.d)(function(){return u.a.createElement(u.a.Fragment,null,[1,2,3,4,5].map(function(e,t){return u.a.createElement("tr",{key:t},u.a.createElement("td",{colSpan:"4",className:"text-center"},"\xa0"))}))})),_=Object(o.a)(function(e){var t=e.items,n=e.onPageTransient;return!t&&n&&n.isLoading},Object(o.d)(function(){var e=[];return Object(l.c)(5)(function(t){return e.push(function(e){return u.a.createElement("tr",{key:e},u.a.createElement("td",{colSpan:"4",className:"text-center"},u.a.createElement("div",{className:"text-center"},u.a.createElement("div",{className:"spinner-border spinner-border-sm",role:"status"},u.a.createElement("span",{className:"sr-only"},"Loading...")))))}(t)),t+1})(1),e})),z=Object(o.a)(function(e){var t=e.items,n=e.onPageTransient;return!t&&n&&!n.isLoading},Object(o.d)(function(){return u.a.createElement("tr",null,u.a.createElement("td",{colSpan:"4",className:"text-center"},"\u6ca1\u6709\u7b26\u5408\u6761\u4ef6\u7684\u6570\u636e!"))})),W=Object(o.b)(z,J,_),q=Object(o.b)(w,Object(o.e)(S),F,W)(function(e){e.page;var t=e.items,n=e.selected,r=e.onStar,a=e.onStarTransient,o=e.onClearStarLoading,c=e.onViewAuthor,i=e.onToggleCheck;e.transients;return t.map(function(e){return u.a.createElement(E,A({key:e.id},e,{isChecked:(n||[]).includes(e.id),onStar:r,onStarTransient:Object(y.get)(e.id,a),onViewAuthor:c,onToggleCheck:i,onClearStarLoading:o}))})}),G=Object(r.b)(function(){var e=Object(c.a)(L,I,D,function(e,t,n){return{items:e,buffer:t,onPageTransient:n}});return function(t,n){return e(t,n)}},function(e,t){return{onAccept:function(){e(Object(j.a)(B.a)({page:t.page}))}}}),H=Object(o.a)(function(e){var t=e.items,n=(e.buffer,e.onPageTransient);return t&&n&&n.isLoading},Object(o.d)(function(){return u.a.createElement("tr",null,u.a.createElement("td",{colSpan:"4",className:"text-center"},u.a.createElement("div",{className:"text-center"},u.a.createElement("div",{className:"spinner-border spinner-border-sm",role:"status"},u.a.createElement("span",{className:"sr-only"},"Loading...")))))})),K=Object(o.a)(function(e){var t=e.items,n=e.buffer,r=e.onPageTransient;return!t||t&&!n.length&&!r||t&&r&&!r.isLoading&&!n.length},Object(o.d)(function(){return u.a.createElement("tr",null,u.a.createElement("td",{colSpan:"4",className:"text-center"},"\xa0"))})),Q=Object(o.b)(H,K),R=Object(o.b)(w,Object(o.e)(S),G,Q)(function(e){var t=e.buffer,n=e.onAccept;return u.a.createElement("tr",{key:"buffer"},u.a.createElement("td",{colSpan:"4",className:"text-center"},"".concat(t.length," new records, click to")," ",u.a.createElement("button",{type:"button",onClick:n,className:d()("btn btn-outline-primary btn-sm",Object(l.b)("accept-new-buffer"))},"accpet!")))});function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Z=window.AbortController,$=Object(r.b)(function(){return Object(c.a)(L,I,V,M,function(e,t){return t.page},function(e,t,n,r,a){return{page:Number(a),items:e,buffer:t,transients:n,modalAuthorInfo:r}})},function(e,t){return{onPage:function(n){var r=Object(i.j)(e(Object(i.d)(B.c)({page:n})));t.onTrackAsyncAction(["onPage",n],r)},onCloseAuthorModal:function(){t.setModalTodoAuthor(void 0)},onBatchStar:function(){t.selected.forEach(function(n){var r=Object(i.j)(e(Object(i.d)(B.f)({id:n})));t.onTrackAsyncAction(["onStar",n],r)})},onToggleCheck:function(e){t.selected.includes(e)?t.setSelected(t.selected.filter(function(t){return t!==e})):t.setSelected([].concat(Y(t.selected),[e]))},onViewAuthor:function(e){t.setModalTodoAuthor(e)}}}),ee=Object(o.c)({componentDidMount:function(){this.controller=new Z;var e=this.props,t=e.page,n=e.onPage;Object(l.a)(0,this.controller.signal).then(function(){return n(t)})},componentDidUpdate:function(e){var t=this.props,n=t.page,r=t.onPage;e.page!==n&&Object(l.a)(0,this.controller.signal).then(function(){return r(n)})},componentWillUnmount:function(){this.controller.abort()}}),te=Object(o.b)(Object(o.f)("selected","setSelected",[]),Object(o.f)("modalTodoAuthor","setModalTodoAuthor",void 0));t.default=Object(a.g)(Object(o.b)(te,k,w,Object(o.e)(S),$,ee)(function(e){var t=e.page,n=e.modalTodoAuthor,r=e.modalAuthorInfo,a=e.selected,o=e.onToggleCheck,c=e.onCloseAuthorModal,i=e.onBatchStar,s=e.onTrackAsyncAction,b=e.onUntrackAsyncAction,m=e.onViewAuthor;return u.a.createElement("div",{className:"mx-auto"},u.a.createElement("table",{className:"table"},u.a.createElement("thead",{className:"thead-dark"},u.a.createElement("tr",null,u.a.createElement("th",{scope:"col"},"Id"),u.a.createElement("th",{scope:"col"},"Title"),u.a.createElement("th",{scope:"col"},"Author/Commenter Number"),u.a.createElement("th",{scope:"col",style:{width:"300px"}},"Operation"))),u.a.createElement("tbody",null,u.a.createElement(q,{page:t,selected:a,onToggleCheck:o,onTrackAsyncAction:s,onUntrackAsyncAction:b,onViewAuthor:m}),u.a.createElement(R,{page:t}))),u.a.createElement("div",null,u.a.createElement("button",{type:"button",onClick:i,className:d()("btn btn-primary btn-sm",Object(l.b)("batch-star"))},"Star selected"),u.a.createElement("br",null),u.a.createElement("br",null)),u.a.createElement(p,{page:t}),!!n&&u.a.createElement(h,X({},r,{onCloseAuthorModal:c})))}))}}]);
//# sourceMappingURL=TodoList.5cf01284cd397f324ef3.chunk.js.map