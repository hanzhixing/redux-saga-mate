{"version":3,"sources":["index.scss","api/errors.js","api/index.js","sagas/index.js","reducers/ui/todos.js","reducers/ui/index.js","reducers/index.js","store/index.js","store/configureStore.js","components/App/index.jsx","fixpath.js","index.jsx","actions/types.js","components/App/GithubCat.svg","../../src/operation.js","../../src/error.js","../../src/action.js","../../src/phase.js","../../src/sign.js","../../src/reducer.js","../../src/hoc.jsx","../../src/saga.js","../../src/selector.js","../../src/index.js","config.js","utils/index.js","history.js"],"names":["classNames","__webpack_require__","locals","css","bind","style","hasOwnProperty","Object","defineProperty","value","module","exports","MyError","_extendableBuiltin2","_this","message","arguments","length","undefined","_classCallCheck","this","_getPrototypeOf","call","name","Error","captureStackTrace","_assertThisInitialized","constructor","stack","_inherits","_extendableBuiltin","todo","schema","Entity","user","noop","_ref","to","delay","then","JSON","stringify","status","statusText","body","getManyTodo","_ref2","page","Math","ceil","random","mockedTodos","define","author","commenters","repeat","PAGE_SIZE_OF_TODO_LIST","n","mockedCommenters","push","id","faker","firstName","utime","Date","toISOString","concat","title","lorem","word","uniq","request","meta","response","_objectSpread","normalize","patchOneTodo","_ref3","args","_extends","mock","star","Number","data","omit","params","getOneUser","_ref4","createDefaultWorker","makeCreateDefaultWorker","ActionTypes","autoclear","_callee","regeneratorRuntime","wrap","_context","prev","next","all","takeEvery","Api","state","action","todoId","payload","entities","todos","stop","_marked","combineReducers","type","isFinished","error","_action$payload","result","pathOfBuffer","pathOfIds","get","set","moveBufferToIds","compose","EntityActionMap","_todos","reducers_defineProperty","UPDATE","k","l","r","difference","DELETE","users","_users","actions","createActionsReducer","session","groupByComposeByEntityType","createEntitiesReducer","ui","configureStore","preloadedState","initialState","storeName","LS_KEY","window","localStorage","setItem","parse","getItem","e","console","log","composeEnhancers","composeWithDevTools","sagaMiddleware","createSagaMiddleware","store","createStore","rootReducer","applyMiddleware","run","rootSaga","subscribe","getState","LOCAL_STORAGE_REDUX_STORE_KEY","TodoList","loadable","Promise","fallback","SimpleButtons","navs","text","NavItem","react_default","a","createElement","className","react_router_dom","activeClassName","App","Fragment","href","target","rel","GithubCat_default","map","i","App_NavItem","key","react_router","exact","path","component","match","last","LOCAL_STORAGE_PATH_BEFORE_404","history","replace","remove","fixpath","root","document","setAttribute","appendChild","render","es","components_App","d","__webpack_exports__","CLEANUP","ASYNC_NOOP","ASYNC_GET_MANY_TODO","ASYNC_DELETE_ONE_TODO","ASYNC_PATCH_ONE_TODO","ACCEPT_UPDATE_TODO_LIST","ASYNC_GET_ONE_USER_BY_TODO_ID","React","GithubCat","props","fillRule","defaultProps","height","viewBox","version","width","aria-hidden","default","FluxStandardActionError","UUID_NAMESPACE","uuidv5","domain","idOfAction","isFSA","signal","now","phase","succeedWith","progress","failWith","makeActionAsync","trackableAction","pid","ctime","sign","makeTrackable","createAsyncAction","createAction","createAsyncActionUnique","DEFAULT_ASYNC_ACTION_TYPE_REGEX","_slicedToArray","CleanupActionType","AsyncActionTypeRegex","Array","isArray","test","lensProp","mergeDeepRight","Errio","entityActionMap","reduce","reducers","entityType","operations","operation","merger","getNewPayload","mergeDeepWithKey","createEntityTypeReducer","keys","_len","combinedReducers","_key","entityTypes","flatten","queuedCombinedReducers","newCombined","queue","combined","mergeQueuedReducers","acc","cur","final","reducer","v","withStates","withStateHandlers","actionIds","setActionId","actionId","lens","lensPath","_toConsumableArray","unsetActionId","dissocPath","withAsyncActionStateHandler","mapToProps","identity","withProps","createAsyncActionContext","_createContext","createContext","Provider","Consumer","withAsyncActionContextProvider","ComponentIn","ComponentOut","rest","_objectWithoutProperties","displayName","wrapDisplayName","withAsyncActionContextConsumer","context","saga_slicedToArray","ErrorType","autoclearByWorkerMaker","method","autoClearByWorker","mark","defaultWorkerSaga","json","abrupt","select","sent","put","t0","createSelectActions","selectActions","selectActionIds","createSelector","reduceRecursively","action_createAsyncAction","action_createAsyncActionUnique","action_idOfAction","action_isFinished","reducer_createActionsReducer","reducer_createEntitiesReducer","reducer_groupByComposeByEntityType","hoc_withAsyncActionStateHandler","hoc_createAsyncActionContext","saga_makeCreateDefaultWorker","selector_createSelectActions","DOMException","seconds","aborted","reject","resolve","timer","setTimeout","onabort","clearTimeout","recur","$n","f","x","apply","loop","e2e","str","history__WEBPACK_IMPORTED_MODULE_0__","createBrowserHistory","basename","ENV_PUBLIC_URL"],"mappings":"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","file":"static/js/index.d077ee910318735024b4.chunk.js","sourcesContent":["\n        // classnames-loader: automatically bind css-modules to classnames\n        var classNames = require(\"!../../node_modules/classnames/bind.js\");\n        var locals = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-2!../../node_modules/postcss-loader/src/index.js??postcss!../../node_modules/sass-loader/lib/loader.js??ref--5-oneOf-5-4!./index.scss\");\n        var css = classNames.bind(locals);\n        for (var style in locals) {\n            if (!locals.hasOwnProperty(style)) {\n                continue;\n            }\n            if (typeof Object.defineProperty === 'function') {\n                Object.defineProperty(css, style, {value: locals[style]});\n            }\n            else {\n                css[style] = locals[style];\n            }\n        }\n        module.exports = css;\n    ","export class MyError extends Error {\n    constructor(message = 'MyError') {\n        super(message);\n        this.name = 'MyError';\n        this.message = message;\n        if (typeof Error.captureStackTrace === 'function') {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            this.stack = (new Error(message)).stack;\n        }\n    }\n}\n","import {normalize, schema} from 'normalizr';\nimport faker from 'faker';\nimport {omit, uniq} from 'lodash/fp';\nimport {delay, repeat} from '../utils';\nimport {PAGE_SIZE_OF_TODO_LIST} from '../config';\nimport {MyError} from './errors';\n\nconst todo = new schema.Entity('todos');\nconst user = new schema.Entity('users');\n\nexport const noop = ({to}) => delay(3)\n    .then(() => {\n        if (to === 'success') {\n            return;\n        }\n        throw new MyError(JSON.stringify({\n            status: 400,\n            statusText: 'Bad Request',\n            body: '收藏失败',\n        }));\n    });\n\nexport const getManyTodo = ({page}) => delay(Math.ceil((Math.random() * 2)))\n    .then(() => {\n        const mockedTodos = [];\n\n        const createTodos = n => {\n            const mockedCommenters = [];\n\n            const createCommenters = n => {\n                mockedCommenters.push({\n                    id: Math.ceil((Math.random() * 20)),\n                    name: faker.name.firstName(),\n                    utime: (new Date()).toISOString(),\n                });\n                return n + 1;\n            };\n\n            repeat(5)(createCommenters)(1);\n\n            mockedTodos.push({\n                id: `${n}${Math.ceil((Math.random() * 2))}`,\n                title: `${faker.lorem.word()}-${page}`,\n                author: {\n                    id: Math.ceil((Math.random() * 20)),\n                    name: faker.name.firstName(),\n                    utime: (new Date()).toISOString(),\n                },\n                commenters: uniq(mockedCommenters),\n            });\n            return n + 1;\n        };\n\n        todo.define({\n            author: user,\n            commenters: [user],\n        });\n\n        repeat(PAGE_SIZE_OF_TODO_LIST)(createTodos)(page * PAGE_SIZE_OF_TODO_LIST);\n\n        return {\n            request: {\n                meta: {page},\n            },\n            response: {\n                ...normalize(mockedTodos, [todo]),\n            }\n        };\n    });\n\n\nexport const patchOneTodo = ({...args}) => delay(Math.ceil((Math.random() * 4)))\n    .then(() => {\n        const mock = {\n            id: args.id,\n            star: true,\n            utime: (new Date()).toISOString(),\n        };\n\n        if (!(Number(args.id) % 3)) {\n            throw new MyError(JSON.stringify({\n                status: 400,\n                statusText: 'Bad Request',\n                body: '收藏失败',\n            }));\n        }\n\n        return {\n            request: {\n                data: {...omit(['id'], {...args})},\n                params: {id: args.id},\n            },\n            response: {\n                ...normalize(mock, todo),\n            }\n        };\n    });\n\nexport const getOneUser = ({id}) => delay(Math.ceil((Math.random() * 3)))\n    .then(() => {\n        const mock = {\n            id,\n            name: faker.name.firstName(),\n            utime: (new Date()).toISOString(),\n        };\n\n        return {\n            request: {\n                params: {id},\n            },\n            response: {\n                ...normalize(mock, user),\n            }\n        };\n    });\n","import {all, takeEvery} from 'redux-saga/effects';\nimport {makeCreateDefaultWorker} from 'redux-saga-mate';\nimport {MyError} from '../api/errors';\nimport * as ActionTypes from '../actions/types';\nimport * as Api from '../api';\n\nconst createDefaultWorker = makeCreateDefaultWorker([MyError, ActionTypes.CLEANUP], {autoclear: true});\n\n// Notice!\n// If you need more complicated logic controls then the default worker saga,\n// you need to implement your own worker sagas.\nexport default function* () {\n    yield all([\n        takeEvery(ActionTypes.ASYNC_NOOP, createDefaultWorker(Api.noop)),\n        takeEvery(ActionTypes.ASYNC_GET_MANY_TODO, createDefaultWorker(Api.getManyTodo)),\n        takeEvery(ActionTypes.ASYNC_PATCH_ONE_TODO, createDefaultWorker(Api.patchOneTodo)),\n        takeEvery(ActionTypes.ASYNC_GET_ONE_USER_BY_TODO_ID, createDefaultWorker(\n            Api.getOneUser,\n            (state, action) => {\n                const {todoId} = action.payload;\n                const {author} = state.entities.todos[todoId];\n                return {id: author};\n            },\n            // {autoclear: false},\n        )),\n    ]);\n}\n","import {isFinished} from 'redux-saga-mate';\nimport {compose, get, set} from 'lodash/fp';\nimport * as ActionTypes from '../../actions/types';\n\nexport default (state = {}, action) => {\n    switch (action.type) {\n        case ActionTypes.ASYNC_GET_MANY_TODO: {\n            if (isFinished(action) && !action.error) {\n                const {payload: {request: {meta: {page}}, response: {result}}} = action;\n                const pathOfBuffer = [page, 'buffer'];\n                const pathOfIds = [page, 'ids'];\n                if (page > 3 && (get(pathOfIds, state) || []).length > 0) {\n                    return set(pathOfBuffer, result, state);\n                }\n                return set(pathOfIds, result, state);\n            }\n            return state;\n        }\n        case ActionTypes.ACCEPT_UPDATE_TODO_LIST: {\n            const {payload: {page}} = action;\n            const pathOfBuffer = [page, 'buffer'];\n            const pathOfIds = [page, 'ids'];\n            const moveBufferToIds = compose(\n                set(pathOfBuffer, undefined),\n                set(pathOfIds, get(pathOfBuffer, state)),\n            );\n            return moveBufferToIds(state);\n        }\n        default: {\n            return state;\n        }\n    }\n};\n","import {combineReducers} from 'redux';\nimport todos from './todos';\n\nexport default combineReducers({\n    todos,\n});\n","import {combineReducers} from 'redux';\nimport {concat, difference} from 'lodash/fp';\nimport {\n    createActionsReducer,\n    createEntitiesReducer,\n    groupByComposeByEntityType,\n    UPDATE,\n    DELETE,\n} from 'redux-saga-mate';\nimport * as ActionTypes from '../actions/types';\nimport ui from './ui';\n\nconst EntityActionMap = {\n    todos: {\n        [ActionTypes.ASYNC_GET_MANY_TODO]: [\n            UPDATE,\n            (k, l, r) => (k === 'commenters' ? concat(l, difference(r, l)) : r),\n        ],\n        [ActionTypes.ASYNC_DELETE_ONE_TODO]: DELETE,\n        [ActionTypes.ASYNC_PATCH_ONE_TODO]: UPDATE,\n    },\n    users: {\n        [ActionTypes.ASYNC_GET_MANY_TODO]: UPDATE,\n        [ActionTypes.ASYNC_GET_ONE_USER_BY_TODO_ID]: UPDATE,\n    },\n};\n\nexport default combineReducers({\n    actions: createActionsReducer([ActionTypes.CLEANUP, /^ASYNC_/]),\n    session: (state = {}, action) => state,\n    entities: combineReducers(\n        groupByComposeByEntityType(\n            createEntitiesReducer(EntityActionMap),\n            {},\n        ),\n    ),\n    ui,\n});\n","import configureStore from './configureStore';\nimport {LOCAL_STORAGE_REDUX_STORE_KEY} from '../config';\n\nexport default configureStore(undefined, 'REDUX-SAGE-MATE-DEMO', LOCAL_STORAGE_REDUX_STORE_KEY);\n","/* global window */\nimport {createStore, applyMiddleware} from 'redux';\nimport {composeWithDevTools} from 'redux-devtools-extension';\nimport createSagaMiddleware from 'redux-saga';\nimport rootSaga from '../sagas';\nimport rootReducer from '../reducers';\n\nexport default (initialState = undefined, storeName = undefined, LS_KEY = 'REDUX-STORE') => {\n    let preloadedState;\n\n    try {\n        window.localStorage.setItem(LS_KEY, JSON.stringify({}));\n\n        preloadedState = initialState\n            || JSON.parse(window.localStorage.getItem(LS_KEY))\n            || undefined;\n    } catch (e) {\n        console.log('The JSON data in Local Storage seems broken!');\n        preloadedState = undefined;\n    }\n\n    const composeEnhancers = composeWithDevTools({name: storeName});\n\n    const sagaMiddleware = createSagaMiddleware();\n\n    const store = createStore(\n        rootReducer,\n        preloadedState,\n        composeEnhancers(applyMiddleware(\n            sagaMiddleware\n        )),\n    );\n\n    sagaMiddleware.run(rootSaga);\n\n    store.subscribe(() => window.localStorage.setItem(LS_KEY, JSON.stringify(store.getState())));\n\n    if (module.hot) {\n        module.hot.accept('../reducers', () => store.replaceReducer(rootReducer));\n    }\n\n    return store;\n};\n","import {hot} from 'react-hot-loader/root';\nimport {Switch, Route, Redirect, NavLink} from 'react-router-dom';\nimport loadable from '@loadable/component';\nimport GithubCat from './GithubCat.svg';\n\nconst TodoList = loadable(() => import(\n    /* webpackChunkName: \"TodoList\" */\n    '../../connects/TodoList'\n), {fallback: null});\n\nconst SimpleButtons = loadable(() => import(\n    /* webpackChunkName: \"SimpleButtons\" */\n    '../SimpleButtons'\n));\n\nconst navs = [\n    {\n        to: `/simple-buttons`,\n        text: 'Simple Buttons',\n    },\n    {\n        to: `/todo-list`,\n        text: 'Todo List',\n    },\n];\n\nconst NavItem = ({to, text}) => (\n    <li className=\"nav-item\">\n        <NavLink\n            className=\"nav-link\"\n            activeClassName=\"active h5\"\n            to={to}\n        >\n            {text}\n        </NavLink>\n    </li>\n);\n\nconst App = () => (\n    <>\n        <header className=\"col-12 text-center mt-3 mb-5\">\n            <a href=\"https://github.com/hanzhixing/redux-saga-mate.git\" target=\"_blank\" rel=\"noopener noreferrer\">\n                <GithubCat />\n            </a>\n        </header>\n        <div className=\"container-fluid\">\n            <div className=\"row flex-xl-nowrap\">\n                <nav className=\"col-2 border-left\">\n                    <ul className=\"nav flex-column\">\n                        {\n                            navs.map(({to, text}, i) => (\n                                <NavItem key={i} to={to} text={text} />\n                            ))\n                        }\n                    </ul>\n                </nav>\n                <main className=\"col-10 border-left border-right\">\n                    <Route exact path=\"/\" component={SimpleButtons} />\n                    <Route path=\"/simple-buttons\" component={SimpleButtons} />\n                    <Switch>\n                        <Route exact path=\"/todo-list\">\n                            {() => (<Redirect to=\"/todo-list/1\" />)}\n                        </Route>\n                        <Route path=\"/todo-list/:page\">\n                            {\n                                ({match: {params: {page}}}) => (<TodoList page={page} />)\n                            }\n                        </Route>\n                    </Switch>\n                </main>\n            </div>\n        </div>\n    </>\n);\n\nexport default hot(App);\n","import store from 'store';\nimport history from './history';\nimport {LOCAL_STORAGE_PATH_BEFORE_404} from './config';\n\nexport default () => {\n    const last = store.get(LOCAL_STORAGE_PATH_BEFORE_404);\n\n    if (last) {\n        history.replace(last);\n        store.remove(LOCAL_STORAGE_PATH_BEFORE_404);\n    }\n};\n","/* global document */\nimport 'bootstrap';\n\nimport {render} from 'react-dom';\nimport {Provider} from 'react-redux';\nimport {Router} from 'react-router';\nimport history from './history';\nimport fixpath from './fixpath';\nimport store from './store';\nimport App from './components/App';\n\nimport 'open-iconic/font/css/open-iconic-bootstrap.css'\nimport './index.scss';\n\nfixpath();\n\nconst root = document.createElement('div');\n\nroot.setAttribute('id', 'react-root');\n\ndocument.body.appendChild(root);\n\nrender(\n    <Provider store={store}>\n        <Router history={history}>\n            <App />\n        </Router>\n    </Provider>,\n    root\n);\n","export const CLEANUP = 'CLEANUP';\nexport const ASYNC_NOOP = 'ASYNC_NOOP';\nexport const ASYNC_GET_MANY_TODO = 'ASYNC_GET_MANY_TODO';\nexport const ASYNC_DELETE_ONE_TODO = 'ASYNC_DELETE_ONE_TODO';\nexport const ASYNC_PATCH_ONE_TODO = 'ASYNC_PATCH_ONE_TODO';\nexport const ACCEPT_UPDATE_TODO_LIST = 'ACCEPT_UPDATE_TODO_LIST';\nexport const ASYNC_GET_ONE_USER_BY_TODO_ID = 'ASYNC_GET_ONE_USER_BY_TODO_ID';\n","var React = require('react');\n\nfunction GithubCat (props) {\n    return React.createElement(\"svg\",props,React.createElement(\"path\",{\"fillRule\":\"evenodd\",\"d\":\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\"}));\n}\n\nGithubCat.defaultProps = {\"height\":\"32\",\"viewBox\":\"0 0 16 16\",\"version\":\"1.1\",\"width\":\"32\",\"aria-hidden\":\"true\"};\n\nmodule.exports = GithubCat;\n\nGithubCat.default = GithubCat;\n","export const UPDATE = 'UPDATE';\nexport const DELETE = 'DELETE';\n","export class FluxStandardActionError extends Error {\n    constructor(message = 'Invalid FSA. See https://github.com/acdlite/flux-standard-action') {\n        super(message);\n        this.name = 'FluxStandardActionError';\n        this.message = message;\n        if (typeof Error.captureStackTrace === 'function') {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            this.stack = (new Error(message)).stack;\n        }\n    }\n}\n","/* global document */\nimport stringify from 'json-stable-stringify';\nimport {createAction} from 'redux-actions';\nimport {isFSA} from 'flux-standard-action';\nimport uuidv5 from 'uuid/v5';\nimport {FluxStandardActionError} from './error';\nimport {PHASE_GHOST, PHASE_STARTED, PHASE_RUNNING, PHASE_FINISH} from './phase';\nimport {SIGN} from './sign';\n\nconst UUID_NULL = '00000000-0000-0000-0000-000000000000';\n\nconst UUID_NAMESPACE = uuidv5(document.domain, UUID_NULL);\n\nexport const idOfAction = (action, uniq = false) => {\n    if (!isFSA(action)) {\n        throw new FluxStandardActionError();\n    }\n\n    const {type, payload, meta} = action;\n\n    if (meta && meta.id) {\n        return meta.id;\n    }\n\n    const signal = uniq ? [type, payload, Date.now()] : [type, payload];\n\n    return uuidv5(stringify(signal), UUID_NAMESPACE);\n};\n\nexport const pidOfAction = action => {\n    if (!isFSA(action)) {\n        throw new FluxStandardActionError();\n    }\n\n    const {meta} = action;\n\n    return meta ? meta.pid : undefined;\n};\n\nexport const makeTrackable = (action, uniq) => {\n    if (!isFSA(action)) {\n        throw new FluxStandardActionError();\n    }\n\n    return {\n        ...action,\n        meta: {\n            id: idOfAction(action, uniq),\n            pid: undefined,\n            ctime: (new Date()).toISOString(),\n            sign: SIGN,\n            uniq,\n        },\n    };\n};\n\nexport const trackFor = parent => child => {\n    if (!isFSA(child) || !isFSA(parent)) {\n        throw new FluxStandardActionError();\n    }\n\n    return {\n        ...child,\n        meta: {\n            id: idOfAction(child),\n            pid: idOfAction(parent),\n            ctime: (new Date()).toISOString(),\n        },\n    };\n};\n\nexport const isUnique = action => action.meta.uniq === true;\nexport const isStarted = action => action.meta.phase === PHASE_STARTED;\nexport const isRunning = action => action.meta.phase === PHASE_RUNNING;\nexport const isFinished = action => action.meta.phase === PHASE_FINISH;\n\nexport const continueWith = (payload, progress = 0) => action => {\n    if (!isFSA(action)) {\n        throw new FluxStandardActionError();\n    }\n\n    return {\n        ...action,\n        payload,\n        meta: {\n            ...action.meta,\n            phase: PHASE_RUNNING,\n            progress,\n            utime: (new Date()).toISOString(),\n        },\n    };\n};\n\nexport const succeedWith = payload => action => {\n    if (!isFSA(action)) {\n        throw new FluxStandardActionError();\n    }\n\n    return {\n        ...action,\n        payload,\n        meta: {\n            ...action.meta,\n            phase: PHASE_FINISH,\n            progress: 100,\n            utime: (new Date()).toISOString(),\n        },\n    };\n};\n\nexport const failWith = error => action => {\n    if (!isFSA(action)) {\n        throw new FluxStandardActionError();\n    }\n\n    return {\n        ...action,\n        payload: error,\n        error: true,\n        meta: {\n            ...action.meta,\n            phase: PHASE_FINISH,\n            progress: 100,\n            utime: (new Date()).toISOString(),\n        },\n    };\n};\n\nexport const isChildOf = parent => child => {\n    if (!isFSA(child) || !isFSA(parent)) {\n        throw new FluxStandardActionError();\n    }\n\n    return (parent.meta.id === child.meta.pid);\n};\n\nexport const makeChildOf = parent => child => {\n    if (!isFSA(child) || !isFSA(parent)) {\n        throw new FluxStandardActionError();\n    }\n\n    const childAction = trackFor(parent)(child);\n    return {\n        ...childAction,\n        meta: {\n            ...childAction.meta,\n            phase: PHASE_STARTED,\n            progress: 0,\n        },\n    };\n};\n\nexport const makeActionAsync = (action, uniq) => {\n    if (!isFSA(action)) {\n        throw new FluxStandardActionError();\n    }\n\n    const trackableAction = makeTrackable(action, uniq);\n\n    return {\n        ...trackableAction,\n        meta: {\n            ...trackableAction.meta,\n            phase: PHASE_STARTED,\n            progress: 0,\n        },\n    };\n};\n\nexport const createAsyncAction = type => payload => makeActionAsync(createAction(type)(payload));\n\nexport const createAsyncActionUnique = type => payload => makeActionAsync(createAction(type)(payload), true);\n","export const PHASE_GHOST = 'ghost'; // for optimistic\nexport const PHASE_STARTED = 'started';\nexport const PHASE_RUNNING = 'running';\nexport const PHASE_FINISH = 'finish';\n","export const SIGN = 'redux-saga-mate';\n","import Errio from 'errio';\nimport compose from 'ramda/src/compose';\nimport omit from 'ramda/src/omit';\nimport mergeDeepWithKey from 'ramda/src/mergeDeepWithKey';\nimport mergeDeepRight from 'ramda/src/mergeDeepRight';\nimport mergeWith from 'ramda/src/mergeWith';\nimport keys from 'ramda/src/keys';\nimport reduce from 'ramda/src/reduce';\nimport uniq from 'ramda/src/uniq';\nimport path from 'ramda/src/path';\nimport flatten from 'ramda/src/flatten';\nimport map from 'ramda/src/map';\nimport set from 'ramda/src/set';\nimport lensProp from 'ramda/src/lensProp';\nimport {isFinished} from './action';\nimport {UPDATE, DELETE} from './operation';\nimport {SIGN} from './sign';\n\nconst DEFAULT_CLEANUP_ACTION_TYPE = 'CLEANUP_TRACKABLE_ACTION';\nconst DEFAULT_ASYNC_ACTION_TYPE_REGEX = /^(REST|API|LOAD|ASYNC|FETCH|AJAX)_[0-9A-Z_]+$/;\n\nexport const createActionsReducer = ([\n    CleanupActionType,\n    AsyncActionTypeRegex,\n] = [\n    DEFAULT_CLEANUP_ACTION_TYPE,\n    DEFAULT_ASYNC_ACTION_TYPE_REGEX,\n]) => (state = {}, action) => {\n    if (action.type === CleanupActionType) {\n        return Array.isArray(action.payload) ? omit(action.payload, state) : omit([action.payload], state);\n    }\n\n    // there is nothing we can do without `meta.id`\n    if (!action.meta || !action.meta.id) {\n        return state;\n    }\n\n    if (AsyncActionTypeRegex.test(action.type)) {\n        return set(\n            lensProp(action.meta.id),\n            mergeDeepRight(action, {\n                payload: (action.error ? JSON.parse(Errio.stringify(action.payload)) : action.payload),\n            }),\n            state,\n        );\n    }\n\n    return state;\n};\n\nexport const createEntityTypeReducer = (entityType, operations) => (state = {}, action) => {\n    if (operations[action.type] && isFinished(action) && !action.error) {\n        const [operation, merger] = (\n            Array.isArray(operations[action.type]) ? operations[action.type] : [operations[action.type]]\n        );\n        if (operation === UPDATE) {\n            const getNewPayload = () => {\n                if (action.payload.response) {\n                    return action.payload.response.entities[entityType] || {};\n                }\n                return action.payload.entities[entityType] || {};\n            };\n            if (merger) {\n                return mergeDeepWithKey(merger, state, getNewPayload());\n            }\n            return mergeDeepRight(state, getNewPayload());\n        }\n        if (operation === DELETE) {\n            return omit([action.payload.request.params.id])(state);\n        }\n    }\n    return state;\n};\n\nexport const createEntitiesReducer = entityActionMap => compose(\n    reduce((reducers, entityType) => set(\n        lensProp(entityType),\n        createEntityTypeReducer(entityType, entityActionMap[entityType]),\n        reducers,\n    ), {}),\n    keys,\n)(entityActionMap);\n\n/**\n * [{key1: fn1}, {key1: fn11}, {key2: fn2}, {key2: fn22, key3: fn3}]\n * =>\n * {key1: [fn1, fn11], key2: [fn2, fn22], key3: [fn3]}\n */\nexport const groupByComposeByEntityType = (...combinedReducers) => {\n    const entityTypes = compose(uniq, flatten, map(keys))(combinedReducers);\n\n    const queuedCombinedReducers = reduce(\n        (newCombined, entityType) => set(\n            lensProp(entityType),\n            reduce(\n                (queue, combined) => (\n                    combined[entityType] ? queue.concat([combined[entityType]]) : queue\n                ),\n                [],\n                combinedReducers,\n            ),\n            newCombined,\n        ),\n        {},\n        entityTypes,\n    );\n\n    const mergeQueuedReducers = compose(\n        reduce((acc, cur) => set(\n            lensProp(cur),\n            reduce(\n                (final, reducer) => (state, action) => reducer(final(state, action), action),\n                v => v,\n                queuedCombinedReducers[cur],\n            ),\n            acc,\n        ), {}),\n        keys,\n    );\n\n    return mergeQueuedReducers(queuedCombinedReducers);\n};\n","import {createContext} from 'react';\nimport {compose, withProps, withStateHandlers, renderComponent, wrapDisplayName} from 'recompose';\nimport identity from 'ramda/src/identity';\nimport set from 'ramda/src/set';\nimport lensPath from 'ramda/src/lensPath';\nimport dissocPath from 'ramda/src/dissocPath';\n\nconst withStates = withStateHandlers(\n    () => ({actionIds: {}}),\n    {\n        setActionId: (state, props) => (key, actionId) => {\n            const lens = Array.isArray(key) ? lensPath(['actionIds', ...key]) : lensPath(['actionIds', key]);\n            return set(lens, actionId, state);\n        },\n        unsetActionId: (state, props) => key => {\n            const path = Array.isArray(key) ? ['actionIds', ...key] : ['actionIds', key];\n            return dissocPath(path, state);\n        },\n    }\n);\n\nexport const withAsyncActionStateHandler = (mapToProps = identity) => compose(\n    withStates,\n    withProps(mapToProps),\n);\n\nexport const createAsyncActionContext = () => {\n    const {Provider, Consumer} = createContext(undefined);\n\n    const withAsyncActionContextProvider = ComponentIn => {\n        const ComponentOut = ({actionIds, setActionId, unsetActionId, ...rest}) => (\n            <Provider value={{actionIds, setActionId, unsetActionId}}>\n                <ComponentIn {...rest} />\n            </Provider>\n        );\n\n        ComponentOut.displayName = wrapDisplayName(ComponentIn, 'withAsyncActionContextProvider');\n\n        return withStates(ComponentOut);\n    };\n\n    const withAsyncActionContextConsumer = ComponentIn => {\n        const ComponentOut = props => (\n            <Consumer>\n                {\n                    context => (\n                        <ComponentIn {...props} {...context} />\n                    )\n                }\n            </Consumer>\n        );\n\n        ComponentOut.displayName = wrapDisplayName(ComponentIn, 'withAsyncActionContextConsumer');\n\n        return ComponentOut;\n    };\n\n    return {\n        withAsyncActionContextProvider,\n        withAsyncActionContextConsumer,\n    };\n};\n","import {createAction} from 'redux-actions';\nimport {call, put, select} from 'redux-saga/effects';\nimport {idOfAction, isFinished, failWith, succeedWith} from './action';\n\n// reducer和saga的执行顺序见下方issue\n// @see: https://github.com/redux-saga/redux-saga/issues/148\nexport const makeCreateDefaultWorker = (\n    [ErrorType, CleanupActionType],\n    {autoclear: autoclearByWorkerMaker} = {},\n) => (\n    (method, payload, {autoclear: autoClearByWorker} = {}) => {\n        return function* defaultWorkerSaga(action) {\n            try {\n                if (isFinished(action)) {\n                    return;\n                }\n\n                const state = yield select();\n\n                const json = yield call(method, (payload ? payload(state, action) : action.payload));\n\n                yield put(succeedWith(json)(action));\n\n                if (autoClearByWorker === true) {\n                    yield put(createAction(CleanupActionType)(idOfAction(action)));\n                    return;\n                }\n                if (autoClearByWorker === false) {\n                    return;\n                }\n                if (autoclearByWorkerMaker === true) {\n                    yield put(createAction(CleanupActionType)(idOfAction(action)));\n                    return;\n                }\n            } catch (error) {\n                if (error instanceof ErrorType) {\n                    yield put(failWith(error)(action));\n                    return;\n                }\n                throw error;\n            }\n        };\n    }\n);\n","import {createSelector} from 'reselect';\nimport prop from 'ramda/src/prop';\nimport keys from 'ramda/src/keys';\nimport omit from 'ramda/src/omit';\nimport set from 'ramda/src/set';\nimport lensProp from 'ramda/src/lensProp';\nimport {isFinished} from './action';\n\nexport const createSelectActions = (selectActions, selectActionIds) => createSelector(\n    [selectActions, selectActionIds],\n    (actions, actionIds) => {\n        const reduceRecursively = function reduceRecursively(actionIds) {\n            return keys(actionIds).reduce((acc, id) => {\n                if (typeof actionIds[id] === 'string') {\n                    if (!actions[actionIds[id]]) {\n                        return acc;\n                    }\n\n                    const action = actions[actionIds[id]];\n\n                    return set(\n                        lensProp(id),\n                        omit(['type', 'meta'], set(lensProp('isLoading'), !isFinished(action), action)),\n                        acc,\n                    );\n                }\n                return set(lensProp(id), reduceRecursively(actionIds[id]), acc);\n            }, {});\n        };\n        return reduceRecursively(actionIds);\n    },\n);\n","import {UPDATE, DELETE} from './operation';\n\nexport {\n    createAsyncAction,\n    createAsyncActionUnique,\n    makeActionAsync,\n    idOfAction,\n    isFinished,\n    continueWith,\n    succeedWith,\n    failWith,\n    isChildOf,\n    makeChildOf,\n} from './action';\n\nexport {\n    createActionsReducer,\n    createEntitiesReducer,\n    groupByComposeByEntityType,\n} from './reducer';\n\nexport {\n    withAsyncActionStateHandler,\n    createAsyncActionContext,\n} from './hoc';\n\nexport {makeCreateDefaultWorker} from './saga';\n\nexport {createSelectActions} from './selector';\n\nexport {UPDATE, DELETE};\n\nexport const EntityOperations = {UPDATE, DELETE};\n","export const PAGE_SIZE_OF_TODO_LIST = 5;\nexport const LOCAL_STORAGE_REDUX_STORE_KEY = 'REDUX-SAGA-MATE-DEMO-REDUX-STORE';\nexport const LOCAL_STORAGE_PATH_BEFORE_404 = 'REDUX-SAGA-MATE-DEMO-PATH-BEFORE-404';\n","/* global window */\nconst {DOMException} = window;\n\nexport const delay = (seconds, signal = {}) => {\n    if (signal.aborted) {\n        return Promise.reject(new DOMException('Aborted', 'AbortError'));\n    }\n\n    return new Promise((resolve, reject) => {\n        const timer = window.setTimeout(resolve, seconds * 1000);\n\n        // eslint-disable-next-line\n        signal.onabort = () => {\n            window.clearTimeout(timer);\n            reject(new DOMException('Aborted', 'AbortError'));\n        };\n    });\n};\n\n// @see https://stackoverflow.com/questions/30452263/is-there-a-mechanism-to-loop-x-times-in-es6-ecmascript-6-without-mutable-varia\nconst recur = (...args) => ({ type: recur, args });\n\nconst loop = f => {\n    let acc = f();\n    while (acc.type === recur) {\n        acc = f(...acc.args);\n    }\n    return acc;\n};\n\nexport const repeat = $n => f => x =>\n    loop((n = $n, acc = x) => (n === 0 ? acc : recur(n - 1, f(acc))));\n\nexport const offsetToPage = (offset, limit = 10) => offset / limit + 1;\n\nexport const pageToOffset = (page, limit = 10) =>\n    page > 1 ? (page - 1) * limit : 0;\n\nexport const e2e = str => `test-id-${str}`;\n","import {createBrowserHistory} from 'history';\n\nexport default createBrowserHistory({\n    basename: ENV_PUBLIC_URL,\n});\n"],"sourceRoot":""}